\begin{tikzpicture}
\begin{scope}[scale=.7]
  \def\T{6}
  \def\M{7}
  \def\R{12}
  \def\Rm{11}%\R - 1

  \draw (0.5, 1) -- (\R-.5, 1) -- (\R-.5, 3) -- (\R+.5, 3)
     -- (\R+.5, \T) -- (0.5, \T) -- cycle ;
  \foreach \x in {1, ..., \Rm}
    \draw (\x, .5) -- (\x, 1) (\x, \T) -- (\x, \T+.5);
  \draw (\R, .5) -- (\R, 3) (\R, \T) -- (\R, \T+.5);

  \draw[dotted] (\M-.5, 1) -- (\M-.5, 4) -- (\M+.5, 4) -- (\M+.5, \T);

  \node at (\M*.5, 3.5) {\lst$make1 half (k+1)$};
  \node at (\M*.5+\R*.5, 3.5) {\lst$slice (n-half+1) k$};

  \draw[-|] (\R+1, 1) to node[right] {\lst$k$} (\R+1, 3);
  \draw[->] (\R+1, 3) to node[right] {$1$} (\R+1, 4);
  \draw[loosely dotted] (\M+.5, 4) -- (\R+1, 4);
\end{scope}
\end{tikzpicture}
